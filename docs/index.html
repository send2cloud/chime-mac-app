<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chime for macOS</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="glow-orb"></div>
    <div class="glow-orb-2"></div>

    <main class="container">
        <header class="hero">
            <div class="icon-wrap">
                <span class="bell-emoji" id="bell-icon">üîî</span>
            </div>
            <h1 class="title">Chime</h1>
            <p class="subtitle">A beautiful, lightweight menu bar app <br />that gently reminds you of the passage of
                time.</p>

            <a href="https://github.com/send2cloud/chime-mac-app/releases/download/v1.0.0/Chime.zip"
                class="btn-download" id="download-btn">
                <span class="btn-text">Download for macOS</span>
            </a>
            <p class="specs" style="color: var(--text-muted); font-size: 0.85rem; margin-bottom: 24px;">Requires macOS
                11+ ‚Ä¢ Apple Silicon & Intel</p>
            <audio id="chime-sound" src="glass-004.mp3" preload="auto"></audio>
            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const btn = document.getElementById('download-btn');
                    const sound = document.getElementById('chime-sound');
                    const bellIcon = document.getElementById('bell-icon');

                    function triggerBellWiggle() {
                        if (bellIcon) {
                            bellIcon.classList.remove('wiggle');
                            void bellIcon.offsetWidth; // trigger reflow to reset CSS animation
                            bellIcon.classList.add('wiggle');
                        }
                    }

                    // Browsers block audio until the very first click on a page.
                    // This unlocks the audio element for subsequent hovers.
                    document.body.addEventListener('click', () => {
                        sound.volume = 0;
                        sound.play().then(() => {
                            sound.pause();
                            sound.currentTime = 0;
                            sound.volume = 0.5;
                        }).catch(e => { });
                    }, { once: true });

                    btn.addEventListener('mouseenter', () => {
                        sound.currentTime = 0;
                        sound.volume = 0.5; // keep it subtle
                        sound.play().catch(e => console.log('Audio play failed:', e));
                        triggerBellWiggle();
                    });

                    // Floating time bubble logic for Visual Cues card
                    const visualCueCard = document.getElementById('visual-cue-card');
                    if (visualCueCard) {
                        const timeBubble = document.createElement('div');
                        timeBubble.className = 'cursor-time-bubble';
                        document.body.appendChild(timeBubble);

                        visualCueCard.addEventListener('mouseenter', () => {
                            const now = new Date();
                            timeBubble.innerText = now.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });
                            timeBubble.style.opacity = '1';
                            timeBubble.style.transform = 'scale(1)';
                        });

                        visualCueCard.addEventListener('mousemove', (e) => {
                            timeBubble.style.left = (e.clientX - 70) + 'px'; // 140px width centered
                            timeBubble.style.top = (e.clientY + 20) + 'px'; // 20px below cursor
                        });

                        visualCueCard.addEventListener('mouseleave', () => {
                            timeBubble.style.opacity = '0';
                            timeBubble.style.transform = 'scale(0.8)';
                        });
                    }

                    // Chime Logic for Hourly Beeps card
                    const hourlyBeepsCard = document.getElementById('hourly-beeps-card');
                    if (hourlyBeepsCard) {
                        hourlyBeepsCard.addEventListener('mouseenter', () => {
                            sound.currentTime = 0;
                            sound.volume = 0.5;
                            sound.play().catch(e => console.log('Audio play failed:', e));
                            triggerBellWiggle();
                        });
                    }
                });
            </script>
            <div class="version">Version 1.0.0 ‚Ä¢ Free & Open Source</div>
        </header>

        <section class="features">
            <div class="feature-card" id="hourly-beeps-card">
                <div class="feature-icon">‚ú®</div>
                <h3>Hourly Beeps</h3>
                <p>Crisp, highly premium "Glass" chime exactly at the top of every hour to keep you grounded.</p>
            </div>

            <div class="feature-card" id="visual-cue-card">
                <div class="feature-icon">üëÅÔ∏è</div>
                <h3>Visual Cues</h3>
                <p>A non-intrusive, floating time bubble animates seamlessly beneath your cursor and fades away.</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">‚è±Ô∏è</div>
                <h3>Custom Timers</h3>
                <p>Start a quick Pomodoro or deep-work timer right from your menu bar with live countdowns.</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">üïäÔ∏è</div>
                <h3>Featherlight</h3>
                <p>Built exclusively in native Swift, burning effectively zero CPU. Absolutely no heavy electron frames
                    to be found.</p>
            </div>
        </section>

        <footer class="footer">
            <p>100% Native. <a href="https://github.com/send2cloud/chime-mac-app" target="_blank" rel="noopener">View
                    Source on GitHub</a></p>
        </footer>
    </main>
</body>

</html>